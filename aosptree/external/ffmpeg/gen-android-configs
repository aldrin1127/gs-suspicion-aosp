#!/bin/bash
#
# Generate configurations for various FFMPEG targets
TARGETS="aarch64 x86_64"
TOOLS_BASE="$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin"

BASE_CONFIG=" \
  --disable-autodetect       \
  --disable-debug            \
  --disable-decoders         \
  --disable-demuxers         \
  --disable-devices          \
  --disable-doc              \
  --disable-programs         \
  --disable-random           \
  --disable-rpath            \
  --disable-static           \
  --disable-symver           \
  --enable-gpl               \
  --enable-version3          \
  --enable-nonfree           \
  --enable-dwt               \
  --enable-extra-warnings    \
  --enable-faan              \
  --enable-fast-unaligned    \
  --enable-ftrapv            \
  --enable-hardcoded-tables  \
  --enable-grey              \
  --enable-iamf              \
  --enable-jni               \
  --enable-lsp               \
  --enable-lto               \
  --enable-memory-poisoning  \
  --enable-network           \
  --enable-ossfuzz           \
  --enable-optimizations     \
  --enable-linux-perf        \
  --enable-lto               \
  --enable-pic               \
  --enable-pixelutils        \
  --enable-pthreads          \
  --enable-runtime-cpudetect \
  --enable-safe-bitstream-reader \
  --enable-shared            \
  --enable-stripping         \
  --enable-thumb
"
BASE_CONFIG+=" \
  --enable-cross-compile     \
  --target-os=linux          \
  --nm=${TOOLS_BASE}/llvm-nm \
  --strip=${TOOLS_BASE}/llvm-strip \
  --ar=${TOOLS_BASE}/llvm-ar \
  --ranlib=${TOOLS_BASE}/llvm-ranlib \
  --x86asmexe=${TOOLS_BASE}/yasm
"

OPTS_aarch64="--arch"
OPTS_x86_64"--arch=x86 --cpu=x86-64 --cross-prefix=${TOOLS_BASE}/x86_64/x86_64-linux-android-4.9/bin/x86_64-linux-android="
